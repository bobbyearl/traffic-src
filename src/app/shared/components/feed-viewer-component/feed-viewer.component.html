<sky-toolbar>
  <sky-toolbar-item>
    <a
      href="/traffic"
      class="sky-btn sky-btn-default">
      <i class="fa fa-home"></i>
      <span *ngIf="!isMobileBreakpoint">
        Home
      </span>
    </a>
  </sky-toolbar-item>
  <sky-toolbar-item>
    <div class="sky-switch-icon-group">
      <sky-radio
        icon="th-large"
        name="view-selector"
        value="CARDS"
        (ngModelChange)="viewChanged($event)"
        [(ngModel)]="view">
      </sky-radio>
      <sky-radio
        icon="th-list"
        name="view-selector"
        value="LIST"
        (ngModelChange)="viewChanged($event)"
        [(ngModel)]="view">
      </sky-radio>
      <sky-radio
        icon="map-marker"
        name="view-selector"
        value="MAP"
        (ngModelChange)="viewChanged($event)"
        [(ngModel)]="view">
      </sky-radio>
    </div>
  </sky-toolbar-item>
  <sky-toolbar-item>
    <sky-dropdown>
      <sky-dropdown-button>
        CHS
      </sky-dropdown-button>
      <sky-dropdown-menu>
        <sky-dropdown-item *ngFor="let route of routeKeys">
          <button type="button" (click)="routeClick(route)">
            {{ route }}
          </button>
        </sky-dropdown-item>
      </sky-dropdown-menu>
    </sky-dropdown>
  </sky-toolbar-item>
  <sky-toolbar-item>
    <button
      class="sky-btn sky-btn-default"
      (click)="launchCameraPicker()">
      <i class="fa fa-camera"></i>
      <span *ngIf="!isMobileBreakpoint">
        Select
      </span>
    </button>
  </sky-toolbar-item>
  <sky-toolbar-item *ngIf="selected.length > 0">
    <button
      class="sky-btn sky-btn-default"
      (click)="clearSelected()">
      <i class="fa fa-eraser"></i>
      <span *ngIf="!isMobileBreakpoint">
        Clear
      </span>
    </button>
  </sky-toolbar-item>
  <sky-toolbar-item *ngIf="viewIsMap">
    <button
      class="sky-btn sky-btn-default"
      (click)="getMyLocation()">
      <i class="fa fa-location-arrow"></i>
      <span *ngIf="!isMobileBreakpoint">
        Find
      </span>
    </button>
  </sky-toolbar-item>
</sky-toolbar>

<sky-alert *ngIf="error"
  alertType="danger">
  {{ error }}
</sky-alert>

<app-map *ngIf="viewIsMap"
  [selected]="selected"
  [lat]="lat"
  [lng]="lng"
  [zoom]="zoom">
</app-map>

<div *ngIf="viewIsCardsOrList">
  <stache-container *ngIf="selected.length === 0">
    <sky-alert alertType="info">No cameras currently selected.</sky-alert>
    
    <p>Use the Camera Picker or switch to Map View to select cameras. As you begin to select cameras or change the view, you'll notice the URL update as well.  This link is unique to your selections and is bookmarkable!</p>

    <p>
      <button
        class="sky-btn sky-btn-default"
        (click)="launchCameraPicker()">
        <i class="fa fa-camera"></i>
        Launch Camera Picker
      </button>
      <button
        class="sky-btn sky-btn-default"
        (click)="setMapView()">
        <i class="fa fa-map-marker"></i>
        Switch to Map View
      </button>
    </p>
  </stache-container>
  <app-camera-grid *ngIf="selected.length > 0"
    [features]="selected"
    [columnWidth]="columnWidth">
  </app-camera-grid>
</div>
